(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-121e9740"],{"1c4a":function(t,e,a){},"2b56":function(t,e,a){"use strict";var n=a("31f8"),i=a.n(n);i.a},"31f8":function(t,e,a){},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},5596:function(t,e,a){var n,i,r;(function(a,s){i=[],n=s,r="function"===typeof n?n.apply(e,i):n,void 0===r||(t.exports=r)})(0,function(){"use strict";var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function e(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var a=function(){var a,n;if("undefined"===typeof window)return{init:function(){}};function i(t,e){var a=this;t.style.opacity&&t.style.opacity>.05?t.style.opacity=t.style.opacity-.05:t.style.opacity&&t.style.opacity<=.1?t.parentNode&&(t.parentNode.removeChild(t),e&&e()):t.style.opacity=.9,setTimeout(function(){return i.apply(a,[t,e])},1e3/30)}var r={error:"error",warn:"warn",success:"success",info:"info"},s={container:"mini-toastr",notification:"mini-toastr__notification",title:"mini-toastr-notification__title",icon:"mini-toastr-notification__icon",message:"mini-toastr-notification__message",error:"-"+r.error,warn:"-"+r.warn,success:"-"+r.success,info:"-"+r.info};function o(e,a,n){for(var i in a=a||{},n=n||"",e)if(e.hasOwnProperty(i)){var r=e[i];r&&"object"===("undefined"===typeof r?"undefined":t(r))&&!(r instanceof Date||r instanceof RegExp)?o(r,a,n+i+" "):a[n]&&"object"===t(a[n])?a[n][i]=r:(a[n]={},a[n][i]=r)}return a}function c(t){var e=o(t),a=JSON.stringify(e,null,2);return a=a.replace(/"([^"]*)": \{/g,"$1 {").replace(/"([^"]*)"/g,"$1").replace(/(\w*-?\w*): ([\w\d .#]*),?/g,"$1: $2;").replace(/},/g,"}\n").replace(/ &([.:])/g,"$1"),a=a.substr(1,a.lastIndexOf("}")-1),a}function d(t){var e=document.head||document.getElementsByTagName("head")[0],a=l("style");a.id="mini-toastr-styles",a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),e.appendChild(a)}var h={types:r,animation:i,timeout:3e3,icons:{},appendTarget:document.body,node:l(),style:(n={},e(n,"."+s.container,{position:"fixed","z-index":99999,right:"12px",top:"12px"}),e(n,"."+s.notification,(a={cursor:"pointer",padding:"12px 18px",margin:"0 0 6px 0","background-color":"#000",opacity:.8,color:"#fff","border-radius":"3px","box-shadow":"#3c3b3b 0 0 12px",width:"300px"},e(a,"&."+s.error,{"background-color":"#D5122B"}),e(a,"&."+s.warn,{"background-color":"#F5AA1E"}),e(a,"&."+s.success,{"background-color":"#7AC13E"}),e(a,"&."+s.info,{"background-color":"#4196E1"}),e(a,"&:hover",{opacity:1,"box-shadow":"#000 0 0 12px"}),a)),e(n,"."+s.title,{"font-weight":"500"}),e(n,"."+s.message,{display:"inline-block","vertical-align":"middle",width:"240px",padding:"0 12px"}),n)};function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div";return document.createElement(t)}function p(t,e,a){var n=l(a.icons[e].nodeType),i=a.icons[e].attrs;for(var r in i)i.hasOwnProperty(r)&&n.setAttribute(r,i[r]);t.appendChild(n)}function u(t,e,a){var n=l();n.className=a,n.appendChild(document.createTextNode(e)),t.appendChild(n)}var g={config:h,showMessage:function(t,e,a,n,i,r){var o={};Object.assign(o,this.config),Object.assign(o,r);var c=l();return c.className=s.notification+" "+s[a],c.onclick=function(){o.animation(c,null)},e&&u(c,e,s.title),o.icons[a]&&p(c,a,o),t&&u(c,t,s.message),o.node.insertBefore(c,o.node.firstChild),setTimeout(function(){return o.animation(c,i)},n||o.timeout),i&&i(),this},init:function(t){var e=this,a={};Object.assign(a,h),Object.assign(a,t),this.config=a;var n=c(a.style);return d(n),a.node.id=""+s.container,a.node.className=""+s.container,a.appendTarget.appendChild(a.node),Object.keys(a.types).forEach(function(t){g[a.types[t]]=function(e,n,i,r,s){return this.showMessage(e,n,a.types[t],i,r,s),this}.bind(e)}),this},setIcon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];a["class"]=a["class"]?a["class"]+" "+s.icon:s.icon,this.config.icons[t]={nodeType:e,attrs:a}}};return g}();return a})},"6b54":function(t,e,a){"use strict";a("3846");var n=a("cb7c"),i=a("0bfb"),r=a("9e1e"),s="toString",o=/./[s],c=function(t){a("2aba")(RegExp.prototype,s,t,!0)};a("79e5")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?c(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?i.call(t):void 0)}):o.name!=s&&c(function(){return o.call(this)})},7277:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated slideInLeft",staticStyle:{"animation-duration":"100ms"}},[a("div",{attrs:{id:"Dashboard"}},[t.isPermitted?a("b-row",[a("b-col",{staticStyle:{"padding-right":"3px","padding-left":"0px"},attrs:{sm:"6"}},[a("b-card",{staticStyle:{height:"80vh"},attrs:{"no-body":""}},[a("b-card-body",[a("b-dropdown",{staticClass:"float-right",attrs:{variant:"transparent p-0",right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"icon-settings",staticStyle:{color:"black"}})]),a("b-dropdown-item",{on:{click:t.toggle1}},[t._v("Budget By Heads")]),a("b-dropdown-item",{on:{click:t.toggle1}},[t._v("Budget by Departments")])],2),"Budget By Heads"==t.option1?a("div",[a("highcharts",{ref:"highcharts",staticClass:"chart3",attrs:{options:t.chartOptions3Bar,updateArgs:t.updateArgs}})],1):a("div",{on:{click:t.openModal}},[a("highcharts",{ref:"highcharts",staticClass:"chart",attrs:{options:t.chartOptionsStacked,updateArgs:t.updateArgs}}),a("div",{staticClass:"stats"},[a("span",{staticClass:"justify-content-center text-blue"},[t._v("\n                   TOTAL : "+t._s(t.summary_total())+"\n               ")]),t._v(" |\n               "),a("span",{staticClass:"justify-content-center text-orange"},[t._v("\n                   COMMITTED : "+t._s(t.summary_committed())+" ("+t._s(t.committed_percent)+")\n               ")]),t._v(" |\n               "),a("span",{staticClass:"justify-content-center text-dark"},[t._v("\n                   REMAINING : "+t._s(t.summary_remaining())+" ("+t._s(t.remaining_percent)+")\n               ")])])],1)],1)],1)],1),a("b-col",{staticStyle:{"padding-right":"3px","padding-left":"0px"},attrs:{sm:"6"}},[a("b-card",{staticStyle:{height:"80vh"},attrs:{"no-body":""}},[a("b-card-body",{on:{click:t.openPie}},[a("b-dropdown",{staticClass:"float-right",attrs:{variant:"transparent p-0",right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"icon-settings",staticStyle:{color:"black"}})]),a("b-dropdown-item",{on:{click:t.toggle}},[t._v("Total Budget")]),a("b-dropdown-item",{on:{click:t.toggle}},[t._v("Committed Budget")]),a("b-dropdown-item",{on:{click:t.toggle}},[t._v("Remaining Budget")])],2),a("highcharts",{staticClass:"chart",attrs:{options:t.chartOptions1,updateArgs:t.updateArgs}}),a("b-card-footer",{staticStyle:{padding:"0px","border-top":"0px"},attrs:{"footer-bg-variant":"transparent","footer-border-variant":"none"}},[a("b-row",{staticClass:"justify-content-center"},[a("b-button-group",[a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent",autofocus:""},on:{click:t.toggleMonths}},[t._v("Yearly")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Jan")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Feb")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Mar")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Apr")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("May")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Jun")])],1),a("b-button-group",[a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Jul")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Aug")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Sept")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Oct")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Nov")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Dec")])],1)],1)],1)],1)],1)],1)],1):t._e()],1),a("b-modal",{staticClass:"modal-primary",attrs:{size:"xl","hide-footer":""},on:{ok:t.exitModal},model:{value:t.chartModal,callback:function(e){t.chartModal=e},expression:"chartModal"}},[a("template",{slot:"modal-title"}),t.otherDepts?t._e():a("b-dropdown",{staticClass:"float-right",attrs:{variant:"transparent p-0",right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"icon-settings",staticStyle:{color:"black"}})]),a("b-dropdown-item",{on:{click:t.toggle3}},[t._v("Budget By Heads")]),a("b-dropdown-item",{on:{click:t.toggle3}},[t._v("Budget by Departments")])],2),"Budget By Heads"==t.option3?a("div",[t.otherDepts?t._e():a("b-button",{staticClass:"bg-transparent",staticStyle:{float:"left",border:"0"},on:{click:t.toggleDept}},[a("i",{staticClass:"icon-arrow-left-circle font-2xl"})]),a("highcharts",{staticClass:"chart4",attrs:{options:t.chartOptions3childBar,updateArgs:t.updateArgs}})],1):a("div",[t.departmentLog.length>1?a("b-button",{staticClass:"bg-transparent",staticStyle:{float:"left","margin-right":"20px",border:"0"},on:{click:t.goBack}},[a("i",{staticClass:"icon-arrow-left-circle font-2xl"})]):t._e(),a("div",{on:{click:t.changeModal}},[a("highcharts",{staticClass:"chart2",attrs:{options:t.chartOptionsStackedchild,updateArgs:t.updateArgs}})],1),a("b-row",{staticClass:"justify-content-center"},[a("span",{staticClass:"justify-content-center text-blue"},[t._v("\n                   TOTAL : "+t._s(t.summary_total_child())+"\n               ")]),t._v("   |  \n               "),a("span",{staticClass:"justify-content-center text-orange"},[t._v("\n                   COMMITTED : "+t._s(t.summary_committed_child())+" ("+t._s(t.committed_percent_child)+")\n               ")]),t._v("   |  \n               "),a("span",{staticClass:"justify-content-center text-dark"},[t._v("\n                   REMAINING : "+t._s(t.summary_remaining_child())+" ("+t._s(t.remaining_percent_child)+")\n               ")])])],1)],2),a("b-modal",{staticClass:"modal-primary",attrs:{size:"xl","hide-footer":""},on:{ok:function(e){t.pieModal=!1}},model:{value:t.pieModal,callback:function(e){t.pieModal=e},expression:"pieModal"}},[a("b-card",{attrs:{"no-body":""}},[a("template",{slot:"modal-title"}),a("b-card-body",[a("b-dropdown",{staticClass:"float-right",attrs:{variant:"transparent p-0",right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"icon-settings",staticStyle:{color:"black"}})]),a("b-dropdown-item",{on:{click:t.toggle}},[t._v("Total Budget")]),a("b-dropdown-item",{on:{click:t.toggle}},[t._v("Committed Budget")]),a("b-dropdown-item",{on:{click:t.toggle}},[t._v("Remaining Budget")])],2),a("highcharts",{staticClass:"chart2",attrs:{options:t.chartOptions1,updateArgs:t.updateArgs}}),a("b-card-footer",{staticStyle:{padding:"0px","border-top":"0px"},attrs:{"footer-bg-variant":"transparent","footer-border-variant":"none"}},[a("b-row",{staticClass:"justify-content-center"},[a("b-button-group",[a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent",autofocus:""},on:{click:t.toggleMonths}},[t._v("Yearly")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Jan")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Feb")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Mar")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Apr")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("May")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Jun")])],1),a("b-button-group",[a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Jul")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Aug")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Sept")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Oct")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Nov")]),a("b-button",{attrs:{id:"legend",size:"sm",variant:"transparent"},on:{click:t.toggleMonths}},[t._v("Dec")])],1)],1)],1)],1)],2)],1)],1)},i=[],r=(a("55dd"),a("7f7f"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),s=(a("a481"),a("6b54"),a("a026")),o=a("4452"),c=a("ea7f"),d=a.n(c),h=a("bc3a"),l=a.n(h),p=a("e19c"),u=a("dda7"),g=a("e440"),m=a.n(g),f=a("5596"),b=a.n(f);s["default"].mixin(u["a"]);var y={success:"success",error:"error",info:"info",warn:"warn"};function v(t){var e=t.title,a=t.message,n=t.type,i=t.timeout,r=t.cb;return b.a[n](a,e,i,r)}d.a.setOptions({lang:{numericSymbolMagnitude:10,numericSymbols:["","H","T","0T","L","0L","Cr","0Cr","00Cr"]}}),b.a.init({types:y});var _={success:v,error:v,info:v,warn:v};s["default"].use(m.a,_);var O=l.a.create({withCredentials:!0});function B(){var t=JSON.parse(localStorage["session_key"]);return t.user?t.user.user_name:"ADMIN"}var k={title:function(){return"BOLT - ".concat(this.user_name)},name:"Dashboard",components:{highcharts:o["Chart"]},computed:{committed_percent:function(){var t=this.summary_committed_no(),e=this.summary_total_no();return"".concat(parseFloat(Math.round(t/e*100*100)/100).toFixed(2)," %")},committed_percent_child:function(){var t=this.summary_committed_child_no(),e=this.summary_total_child_no();return"".concat(parseFloat(Math.round(t/e*100*100)/100).toFixed(2)," %")},remaining_percent_child:function(){var t=this.summary_remaining_child_no(),e=this.summary_total_child_no();return"".concat(parseFloat(Math.round(t/e*100*100)/100).toFixed(2)," %")},remaining_percent:function(){var t=this.summary_remaining_no(),e=this.summary_total_no();return"".concat(parseFloat(Math.round(t/e*100*100)/100).toFixed(2)," %")}},data:function(){return{child_dept:[],otherDepts:!1,departmentLog:[],chartModal:!1,user_name:B(),summary_remaining:function(){for(var t=0,e=0;e<this.chartOptionsStacked.series[1].data.length;e++)t+=this.chartOptionsStacked.series[1].data[e].y;var a=t;a=a.toString();var n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);var r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)},summary_committed:function(){for(var t=0,e=0;e<this.chartOptionsStacked.series[3].data.length;e++)t+=this.chartOptionsStacked.series[3].data[e].y;var a=t;a=a.toString();var n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);var r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)},summary_total:function(){var t=0;if(this.chartOptionsStacked.series[0].data.length>0){for(var e=0;e<this.chartOptionsStacked.series[0].data.length;e++)t+=this.chartOptionsStacked.series[0].data[e].y;var a=t;a=a.toString();var n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);var r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)}a=this.chartOptionsStacked.series[0].data[0].y;a=a.toString();n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)},summary_remaining_child:function(){var t=0;if(this.chartOptionsStackedchild.series[1].data.length>0){for(var e=0;e<this.chartOptionsStackedchild.series[1].data.length;e++)t+=this.chartOptionsStackedchild.series[1].data[e].y;var a=t;a=a.toString();var n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);var r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)}if(this.chartOptionsStackedchild.series[1].data[0]){a=this.chartOptionsStackedchild.series[1].data[0].y;a=a.toString();n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)}},summary_committed_child:function(){var t=0;if(this.chartOptionsStackedchild.series[3].data.length>0){for(var e=0;e<this.chartOptionsStackedchild.series[3].data.length;e++)t+=this.chartOptionsStackedchild.series[3].data[e].y;var a=t;a=a.toString();var n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);var r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)}if(this.chartOptionsStackedchild.series[3].data[0]){a=this.chartOptionsStackedchild.series[3].data[0].y;a=a.toString();n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)}},summary_total_child:function(){var t=0;if(this.chartOptionsStackedchild.series[0].data.length>0){for(var e=0;e<this.chartOptionsStackedchild.series[0].data.length;e++)t+=this.chartOptionsStackedchild.series[0].data[e].y;var a=t;a=a.toString();var n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);var r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)}if(this.chartOptionsStackedchild.series[0].data[0]){a=this.chartOptionsStackedchild.series[0].data[0].y;a=a.toString();n=a.substring(a.length-3),i=a.substring(0,a.length-3);""!=i&&(n=","+n);r=i.replace(/\B(?=(\d{2})+(?!\d))/g,",")+n;return"₹ ".concat(r)}},summary_remaining_no:function(){for(var t=0,e=0;e<this.chartOptionsStacked.series[1].data.length;e++)t+=this.chartOptionsStacked.series[1].data[e].y;var a=t;return a},summary_committed_no:function(){for(var t=0,e=0;e<this.chartOptionsStacked.series[3].data.length;e++)t+=this.chartOptionsStacked.series[3].data[e].y;var a=t;return a},summary_total_no:function(){var t=0;if(this.chartOptionsStacked.series[0].data.length>0){for(var e=0;e<this.chartOptionsStacked.series[0].data.length;e++)t+=this.chartOptionsStacked.series[0].data[e].y;var a=t;return a}a=this.chartOptionsStacked.series[0].data[0].y;return a},summary_remaining_child_no:function(){var t=0;if(this.chartOptionsStackedchild.series[1].data.length>0){for(var e=0;e<this.chartOptionsStackedchild.series[1].data.length;e++)t+=this.chartOptionsStackedchild.series[1].data[e].y;var a=t;return a}if(this.chartOptionsStackedchild.series[1].data[0]){a=this.chartOptionsStackedchild.series[1].data[0].y;return a}},summary_committed_child_no:function(){var t=0;if(this.chartOptionsStackedchild.series[3].data.length>0){for(var e=0;e<this.chartOptionsStackedchild.series[3].data.length;e++)t+=this.chartOptionsStackedchild.series[3].data[e].y;var a=t;return a}if(this.chartOptionsStackedchild.series[3].data[0]){a=this.chartOptionsStackedchild.series[3].data[0].y;return a}},summary_total_child_no:function(){var t=0;if(this.chartOptionsStackedchild.series[0].data.length>0){for(var e=0;e<this.chartOptionsStackedchild.series[0].data.length;e++)t+=this.chartOptionsStackedchild.series[0].data[e].y;var a=t;return a}if(this.chartOptionsStackedchild.series[0].data[0]){a=this.chartOptionsStackedchild.series[0].data[0].y;return a}},budgetdata:[],isPermitted:!1,selectMonth:"Yearly",dept:[],option:"Total Budget",option1:"Budget By Departments",option3:"Budget By Departments",updateArgs:[!0,!0,{duration:1e3}],chartOptions1:{tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},chart:{type:"pie"},xAxis:{labels:{overflow:"allow"},crosshair:!0},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",center:["50%","50%"],dataLabels:{enabled:!1}}},title:{text:""},series:[{name:"",data:[]}]},chartOptionsStacked:{tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.currency}</b> (<span>{point.percent:.2f}</span> %)<br/>',shared:!0},chart:{type:"column"},title:{text:"Department Budget"},plotOptions:{column:{grouping:!1,shadow:!1,borderWidth:0}},xAxis:{categories:[],labels:{overflow:"allow"},crosshair:!0},yAxis:{min:0,title:{text:"Amount (₹)"}},series:[{data:[]},{data:[]},{data:[]},{data:[]}]},tree_dept:[],chartOptionsStackedchild:{tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.currency}</b> (<span>{point.percent:.2f}</span> %)<br/>',shared:!0},chart:{type:"column"},title:{text:""},plotOptions:{column:{grouping:!1,shadow:!1,borderWidth:0}},xAxis:{categories:[],labels:{overflow:"allow"},crosshair:!0},yAxis:{min:0,title:{text:"Amount (₹)"}},series:[{data:[]},{data:[]},{data:[]},{data:[]}]},chartOptions1Bar:{chart:{type:"column"},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],labels:{overflow:"allow"},crosshair:!0},title:{text:"Total Budget"},yAxis:{min:0,title:{text:"Amount ( in Rupees )"}},series:[]},pieModal:!1,chartOptions2Bar:{chart:{type:"column"},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],labels:{overflow:"allow"},crosshair:!0},title:{text:"Approved Budget"},yAxis:{min:0,title:{text:"Amount ( in Rupees )"}},series:[]},child_flag:!1,child_tree_dept:[],chartOptions3Bar:{tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.currency}</b> (<span>{point.percent:.2f}</span> %)<br/>',shared:!0},chart:{type:"column",width:15e3},xAxis:{categories:[],labels:{overflow:"allow"},crosshair:!0},isPermittedDEpt:!1,title:{text:"Yearly Budget (Heads)"},yAxis:{min:0,title:{text:"Amount ( in Rupees )"}},plotOptions:{column:{grouping:!1,shadow:!1,borderWidth:0}},series:[]},chartOptions3childBar:{tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.currency}</b> (<span>{point.percent:.2f}</span> %)<br/>',shared:!0},chart:{type:"column",width:1e4},xAxis:{categories:[],labels:{overflow:"allow"},crosshair:!0},isPermittedDEpt:!1,title:{text:""},yAxis:{min:0,title:{text:"Amount ( in Rupees )"}},plotOptions:{column:{grouping:!1,shadow:!1,borderWidth:0}},series:[]}}},watch:{chartModal:function(){this.chartModal?this.child_flag=!0:(this.exitModal(),this.child_flag=!1)},pieModal:function(){this.pieModal||(this.chartOptions1.plotOptions.pie.dataLabels.enabled=!1)},option:function(){"Total Budget"==this.option&&(this.chartOptions1.tooltip.pointFormat="{series.name}: <b>{point.currency} ({point.percentage:.1f}%) </b>",this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.title.text="Year's Budget - Total",this.chartOptions1.series[0].data=this.getTotalData(this.budgetdata)),"Committed Budget"==this.option&&(this.chartOptions1.tooltip.pointFormat="{series.name}: <b>{point.currency} ({point.more:.1f}%) </b>",this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.title.text="Year's Budget - Committed",this.chartOptions1.series[0].data=this.getApprovedData(this.budgetdata)),"Remaining Budget"==this.option&&(this.chartOptions1.tooltip.pointFormat="{series.name}: <b>{point.currency} ({point.more:.1f}%) </b>",this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.title.text="Year's Budget - Remaining",this.chartOptions1.series[0].data=this.getLeftData(this.budgetdata))},selectMonth:function(){"Yearly"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="Year's Budget - Total",this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalData(this.budgetdata)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="Year's Budget - Committed",this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedData(this.budgetdata)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="Year's Budget - Remaining",this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftData(this.budgetdata))),"Jan"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,0)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,0)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,0))),"Feb"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,1)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,1)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,1))),"Mar"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,2)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,2)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,2))),"Apr"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,3)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,3)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,3))),"May"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,4)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,4)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,4))),"Jun"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,5)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,5)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,5))),"Jul"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,6)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,6)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,6))),"Aug"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,7)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,7)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,7))),"Sept"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,8)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,8)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,8))),"Oct"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,9)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,9)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,9))),"Nov"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,10)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,10)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,10))),"Dec"==this.selectMonth&&("Total Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Total"),this.chartOptions1.series[0].name="Total Budget",this.chartOptions1.series[0].data=this.getTotalDataMonth(this.budgetdata,11)),"Committed Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Committed"),this.chartOptions1.series[0].name="Committed Budget",this.chartOptions1.series[0].data=this.getApprovedDataMonth(this.budgetdata,11)),"Remaining Budget"==this.option&&(this.chartOptions1.title.text="".concat(this.selectMonth,"'s Budget - Remaining"),this.chartOptions1.series[0].name="Remaining Budget",this.chartOptions1.series[0].data=this.getLeftDataMonth(this.budgetdata,11)))}},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(this.$refs),e=JSON.parse(localStorage.session_key),console.log(e),!e.user){t.next=14;break}for(this.user_name=e.user.user_name,a=0;a<e.permission.length;a++)"Head"==e.permission[a].text&&(e.additional_permissions[a].read_all||e.additional_permissions[a].read_own)&&(this.isPermitted=!0),"Department"==e.permission[a].text&&(e.additional_permissions[a].read_all||e.additional_permissions[a].read_own)&&(this.isPermittedDept=!0);if(!this.isPermitted){t.next=9;break}return t.next=9,O.get("".concat(p["b"],"dropdown/head/find/").concat(e.user.user_type.department)).then(function(t){n.budgetdata=JSON.parse(JSON.stringify(t.data)),n.chartOptions1.title.text="Year's Budget - Total",n.chartOptions1.tooltip.pointFormat="{series.name}: <b>{point.currency} ({point.percentage:.1f}%) </b>",n.chartOptions1.series[0].name="Total Budget",n.chartOptions1.series[0].data=n.getTotalData(t.data),n.chartOptions1Bar.series=n.getMonthlyBar1(t.data),n.chartOptions2Bar.series=n.getMonthlyBar2(t.data),n.chartOptions3Bar.xAxis.categories=n.getYearlyBar1(t.data),n.chartOptions3Bar.series=n.getYearlyBar2(t.data)}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 9:if(!this.isPermittedDept){t.next=12;break}return t.next=12,O.get("".concat(p["b"],"department/dept/get")).then(function(t){n.dept=JSON.parse(JSON.stringify(t.data)),console.log(n.dept),n.tree_dept=n.list_to_tree_dept(t.data),n.chartOptionsStacked.xAxis.categories=n.getDeptList(n.tree_dept),n.chartOptionsStacked.series=[{name:"Total",data:n.tree_dept.total_data},{name:"Remaining",data:n.tree_dept.remaining_data},{name:"CarryOver",data:n.tree_dept.carry_over_data},{name:"Committed",data:n.tree_dept.committed_data}]}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 12:t.next=20;break;case 14:return this.user_name="ADMIN",this.isPermitted=!0,t.next=18,O.get("".concat(p["b"])+"head/head/get").then(function(t){n.budgetdata=JSON.parse(JSON.stringify(t.data)),n.chartOptions1.title.text="Year's Budget - Total",n.chartOptions1.tooltip.pointFormat="{series.name}: <b>{point.currency} ({point.percentage:.1f}%) </b>",n.chartOptions1.series[0].name="Total Budget",n.chartOptions1.series[0].data=n.getTotalData(t.data),n.chartOptions1Bar.series=n.getMonthlyBar1(t.data),n.chartOptions2Bar.series=n.getMonthlyBar2(t.data),n.chartOptions3Bar.xAxis.categories=n.getYearlyBar1(t.data),n.chartOptions3Bar.series=n.getYearlyBar2(t.data)}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 18:return t.next=20,O.get("".concat(p["b"],"department/dept/get")).then(function(t){n.dept=JSON.parse(JSON.stringify(t.data)),n.tree_dept=n.list_to_tree_dept(t.data),n.chartOptionsStacked.xAxis.categories=n.getDeptList(n.tree_dept),n.chartOptionsStacked.series=[{name:"Total",data:n.tree_dept.total_data},{name:"Remaining",data:n.tree_dept.remaining_data},{name:"CarryOver",data:n.tree_dept.carry_over_data},{name:"Committed",data:n.tree_dept.committed_data}]}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 20:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{child_list_to_tree_dept:function(t){var e,a,n={},i=[];for(a=0;a<t.length;a+=1)n[t[a]._id]=a,t[a].children=[];for(a=0;a<t.length;a+=1)e=t[a],void 0!=e.parent_department&&this.child_checkExist(e.parent_department)?t[n[e.parent_department]].children.push(e):i.push(e);return this.getHeadBudget(i),i},child_checkExist:function(t){for(var e=0;e<this.child_dept.length;e++)if(this.child_dept[e]._id==t)return!0;return!1},convertAmount:function(t){var e=t;e=e.toString();var a=e.substring(e.length-3),n=e.substring(0,e.length-3);""!=n&&(a=","+a);var i=n.replace(/\B(?=(\d{2})+(?!\d))/g,",")+a;return"₹ ".concat(i)},list_to_tree_dept:function(t){var e,a,n={},i=[];for(a=0;a<t.length;a+=1)n[t[a]._id]=a,t[a].children=[];for(a=0;a<t.length;a+=1)e=t[a],void 0!=e.parent_department&&this.checkExist(e.parent_department)?(console.log(e),t[n[e.parent_department]].children.push(e)):i.push(e);return this.getHeadBudget(i),i},toggleDept:function(){this.option3="Budget by Departments"},getHeadBudget:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.total_data=[],e.committed_data=[],e.remaining_data=[],e.carry_over_data=[],a=0;case 5:if(!(a<e.length)){t.next=11;break}return t.next=8,O.get("".concat(p["b"],"dropdown/head/only/").concat(e[a]._id)).then(function(t){console.log(t.data);for(var a=0,i=0,r=0,s=0,o=0;o<t.data.length;o++)a+=t.data[o].permissible_values.reduce(function(t,e){return t+e},0),i=i+t.data[o].permissible_values.reduce(function(t,e){return t+e},0)-t.data[o].amount_left.reduce(function(t,e){return t+e},0),r+=t.data[o].amount_left.reduce(function(t,e){return t+e},0),s+=t.data[o].carry_over_amount.reduce(function(t,e){return t+e},0);e.total_data.push({percent:100,y:a,currency:n.convertAmount(a)}),e.committed_data.push({percent:i/a*100,y:i,currency:n.convertAmount(i)}),e.remaining_data.push({percent:r/a*100,y:r,currency:n.convertAmount(r)}),e.carry_over_data.push({percent:s/a*100,y:s,currency:n.convertAmount(s)})}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 8:a++,t.next=5;break;case 11:return t.next=13,O.get("".concat(p["b"],"dropdown/head/no/dept")).then(function(t){for(var a=0,i=0,r=0,s=0,o=0;o<t.data.length;o++)a+=t.data[o].permissible_values.reduce(function(t,e){return t+e},0),i=i+t.data[o].permissible_values.reduce(function(t,e){return t+e},0)-t.data[o].amount_left.reduce(function(t,e){return t+e},0),r+=t.data[o].amount_left.reduce(function(t,e){return t+e},0),s+=t.data[o].carry_over_amount.reduce(function(t,e){return t+e},0);e.total_data.push({percent:100,y:a,currency:n.convertAmount(a)}),e.committed_data.push({percent:i/a*100,y:i,currency:n.convertAmount(i)}),e.remaining_data.push({percent:r/a*100,y:r,currency:n.convertAmount(r)}),e.carry_over_data.push({percent:s/a*100,y:s,currency:n.convertAmount(s)})}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),checkExist:function(t){for(var e=0;e<this.dept.length;e++)if(this.dept[e]._id==t)return!0;return!1},openPie:function(t){t.chartX&&(this.chartOptions1.plotOptions.pie.dataLabels.enabled=!0,this.pieModal=!0)},openModal:function(t){var e=this;if(null!=t.point.category){var a=t.point.category.split('<span style="display:none">').pop(),n=a.split("</span>");console.log(n[0]),"null"==n[0]?(this.chartModal=!0,this.otherDepts=!0,this.option3="Budget By Heads",O.get("".concat(p["b"],"dropdown/head/no/dept")).then(function(t){e.chartOptions3childBar.xAxis.categories=e.getYearlyBar1(t.data),e.chartOptions3childBar.chart={type:"column",width:768},e.chartOptions3childBar.series=e.getYearlyBar2(t.data)})):O.get("".concat(p["b"],"department/dept/child/").concat(n[0])).then(function(t){t.data.length>0?(e.departmentLog.push("".concat(n[0])),e.chartModal=!0,e.otherDepts=!1,e.child_dept=JSON.parse(JSON.stringify(t.data)),e.child_tree_dept=e.child_list_to_tree_dept(t.data),e.chartOptionsStackedchild.xAxis.categories=e.getDeptList(t.data),e.chartOptionsStackedchild.series=[{name:"Total",data:e.child_tree_dept.total_data},{name:"Remaining",data:e.child_tree_dept.remaining_data},{name:"CarryOver",data:e.child_tree_dept.carry_over_data},{name:"Committed",data:e.child_tree_dept.committed_data}],O.get("".concat(p["b"],"dropdown/head/only/").concat(n[0])).then(function(t){e.chartOptions3childBar.chart.width=1e4,e.chartOptions3childBar.xAxis.categories=e.getYearlyBar1(t.data),e.chartOptions3childBar.series=e.getYearlyBar2(t.data)})):(e.option1="Budget By Heads",v({type:m.a.types.info,title:"No Sub-Departments",message:"Switching to Budget By Heads"}))}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})})}},changeModal:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.point){t.next=9;break}if(this.otherDepts=!1,!e.point.category){t.next=7;break}return a=e.point.category.split('<span style="display:none">').pop(),n=a.split("</span>"),t.next=7,O.get("".concat(p["b"],"department/dept/child/").concat(n[0])).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.data.length>0)){t.next=11;break}return i.departmentLog.push("".concat(n[0])),console.log(i.departmentLog),i.child_dept=JSON.parse(JSON.stringify(e.data)),i.child_tree_dept=i.child_list_to_tree_dept(e.data),i.chartOptionsStackedchild.xAxis.categories=i.getDeptList(e.data),i.chartOptionsStackedchild.series=[{name:"Total",data:i.child_tree_dept.total_data},{name:"Remaining",data:i.child_tree_dept.remaining_data},{name:"CarryOver",data:i.child_tree_dept.carry_over_data},{name:"Committed",data:i.child_tree_dept.committed_data}],t.next=9,O.get("".concat(p["b"],"dropdown/head/only/").concat(n[0])).then(function(t){i.chartOptions3childBar.xAxis.categories=i.getYearlyBar1(t.data),i.chartOptions3childBar.series=i.getYearlyBar2(t.data)});case 9:t.next=13;break;case 11:i.option3="Budget By Heads",v({type:m.a.types.info,title:"No Sub-Departments",message:"Switching to Budget By Heads"});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 7:t.next=11;break;case 9:this.option3="Budget By Heads",v({type:m.a.types.info,title:"No Sub-Departments",message:"Switching to Budget By Heads"});case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),exitModal:function(){this.chartModal=!1,this.departmentLog=[],this.option3="Budget by Departments",console.log("ADD")},getDeptList:function(t){for(var e=[],a=0;a<t.length;a++)e.push("<span>".concat(t[a].department_name,'</span><span style="display:none">').concat(t[a]._id,"</span>"));return e.push('<span>Others</span><span style="display:none">'.concat(null,"</span>")),e},getDeptHeadData:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n,i,r,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=[],n=[],i=[],r=[],s=[],o=0;case 6:if(!(o<e.length)){t.next=12;break}return t.next=9,O.get("".concat(p["b"],"dropdown/head/only/").concat(e[o]._id)).then(function(t){for(var e=0,a=0,o=0,c=0,d=0;d<t.data.length;d++)e+=t.data[d].permissible_values.reduce(function(t,e){return t+e},0),a=a+t.data[d].permissible_values.reduce(function(t,e){return t+e},0)-t.data[d].amount_left.reduce(function(t,e){return t+e},0),o+=t.data[d].amount_left.reduce(function(t,e){return t+e},0),c+=t.data[d].carry_over_amount.reduce(function(t,e){return t+e},0);n.push(e),i.push(a),r.push(o),s.push(c)}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 9:o++,t.next=6;break;case 12:return a.push({name:"Total",data:n}),a.push({name:"Committed",data:i}),a.push({name:"Remaining",data:r}),a.push({name:"CarryOver",data:s}),t.abrupt("return",a);case 17:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),toggleMonths:function(t){this.selectMonth=t.target.textContent},getMonth:function(){var t="",e=(new Date).getMonth();switch(e){case 0:t="January";break;case 1:t="February";break;case 2:t="March";break;case 3:t="April";break;case 4:t="May";break;case 5:t="June";break;case 6:t="July";break;case 7:t="August";break;case 8:t="September";break;case 9:t="October";break;case 10:t="November";break;case 11:t="December";break}return t},switchMonth:function(t){var e="";switch(t){case 0:e="January";break;case 1:e="February";break;case 2:e="March";break;case 3:e="April";break;case 4:e="May";break;case 5:e="June";break;case 6:e="July";break;case 7:e="August";break;case 8:e="September";break;case 9:e="October";break;case 10:e="November";break;case 11:e="December";break}return e},getMonthlyBar1:function(t){for(var e=[],a=0;a<t.length;a++)e[a]={name:null,data:null};for(a=0;a<t.length;a++)e[a].name=t[a].name,e[a].data=t[a].permissible_values;return e},goBack:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=JSON.parse(JSON.stringify(this.departmentLog)),e.pop(),a=e.pop(),console.log(a),t.next=6,O.get("".concat(p["b"],"department/dept/child/").concat(a)).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.data.length>0)){t.next=11;break}return n.departmentLog.pop(),n.chartModal=!0,n.child_dept=JSON.parse(JSON.stringify(e.data)),n.child_tree_dept=n.child_list_to_tree_dept(e.data),n.chartOptionsStackedchild.xAxis.categories=n.getDeptList(e.data),n.chartOptionsStackedchild.series=[{name:"Total",data:n.child_tree_dept.total_data},{name:"Remaining",data:n.child_tree_dept.remaining_data},{name:"CarryOver",data:n.child_tree_dept.carry_over_data},{name:"Committed",data:n.child_tree_dept.committed_data}],t.next=9,O.get("".concat(p["b"],"dropdown/head/only/").concat(a)).then(function(t){n.chartOptions3childBar.xAxis.categories=n.getYearlyBar1(t.data),n.chartOptions3childBar.series=n.getYearlyBar2(t.data)});case 9:t.next=13;break;case 11:n.option3="Budget By Heads",v({type:m.a.types.info,title:"No Sub-Departments",message:"Switching to Budget By Heads"});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getMonthlyBar2:function(t){for(var e=[],a=0;a<t.length;a++)e[a]={name:null,data:null};for(a=0;a<t.length;a++)e[a].name=t[a].name,e[a].data=t[a].amount_left;return e},getYearlyBar1:function(t){for(var e=[],a=0;a<t.length;a++)e.push(),t[a].total=0;for(a=0;a<t.length;a++)for(var n=0;n<12;n++)t[a].total=t[a].total+t[a].permissible_values[n];t.sort(function(t,e){return t.total-e.total}),t.reverse();for(a=0;a<t.length;a++)e[a]=t[a].name;return e},getYearlyBar2:function(t){for(var e=[],a=0,n=0,i=0,r=0,s=0;s<4;s++)e[s]={name:null,data:[]};for(s=0;s<t.length;s++)t[s].total=0;for(s=0;s<t.length;s++)for(var o=0;o<12;o++)t[s].total=t[s].total+t[s].permissible_values[o];t.sort(function(t,e){return t.total-e.total}),t.reverse();for(s=0;s<4;s++){if(0==s){e[s].name="Total";for(o=0;o<t.length;o++){a=0;for(var c=0;c<12;c++)a+=t[o].permissible_values[c];e[s].data.push({currency:this.convertAmount(a),percent:100,y:a})}}if(1==s){e[s].name="Committed";for(o=0;o<t.length;o++){a=0,r=0;for(c=0;c<12;c++)r+=t[o].permissible_values[c]-t[o].amount_left[c],a+=t[o].permissible_values[c];e[s].data.push({currency:this.convertAmount(r),percent:r/a*100,y:r})}}if(2==s){e[s].name="Remaining";for(o=0;o<t.length;o++){a=0,i=0;for(c=0;c<12;c++)i+=t[o].amount_left[c],a+=t[o].permissible_values[c];e[s].data.push({currency:this.convertAmount(i),percent:i/a*100,y:i})}}if(3==s){e[s].name="Carry Over";for(o=0;o<t.length;o++){a=0,n=0;for(c=0;c<12;c++)a+=t[o].permissible_values[c],n+=t[o].carry_over_amount[c];e[s].data.push({currency:this.convertAmount(n),percent:n/a*100,y:n})}}}return e},toggle:function(t){this.option=t.target.text,this.selectMonth="Yearly"},toggle1:function(t){this.option1=t.target.text,console.log(t.target.text)},toggle3:function(t){console.log(this.otherDepts),this.option3=t.target.text,console.log(t.target.text)},getTotalData:function(t){for(var e=[],a=0;a<t.length;a++){e[a]={name:t[a].name,y:0};for(var n=0;n<12;n++)e[a].y=e[a].y+t[a].permissible_values[n];e[a].currency=this.convertAmount(e[a].y)}return e[0].selected=!0,e},getApprovedData:function(t){var e=[],a=[],n=0;for(n=0;n<t.length;n++){a.push(0),e[n]={name:t[n].name,y:0,more:0};for(var i=0;i<12;i++)e[n].y=e[n].y+(t[n].permissible_values[i]-t[n].amount_left[i]),a[n]=a[n]+t[n].permissible_values[i];e[n].currency=this.convertAmount(e[n].y),e[n].more=e[n].y/a[n]*100}return e},getLeftData:function(t){var e=[],a=[],n=0;for(n=0;n<t.length;n++){a.push(0),e[n]={name:t[n].name,y:0,more:0};for(var i=0;i<12;i++)e[n].y=e[n].y+t[n].amount_left[i],a[n]=a[n]+t[n].permissible_values[i];e[n].currency=this.convertAmount(e[n].y),e[n].more=e[n].y/a[n]*100}return e},getLeftDataMonth:function(t,e){var a=[],n=0;for(n=0;n<t.length;n++)a[n]={currency:this.convertAmount(t[n].amount_left[e]),name:t[n].name,y:t[n].amount_left[e],more:t[n].amount_left[e]/t[n].permissible_values[e]*100};return a},getTotalDataMonth:function(t,e){for(var a=[],n=0;n<t.length;n++)a[n]={currency:this.convertAmount(t[n].permissible_values[e]),name:t[n].name,y:t[n].permissible_values[e]};return a[0].selected=!0,a},getApprovedDataMonth:function(t,e){var a=[],n=0;for(n=0;n<t.length;n++)a[n]={currency:this.convertAmount(t[n].permissible_values[e]-t[n].amount_left[e]),name:t[n].name,y:t[n].permissible_values[e]-t[n].amount_left[e],more:(t[n].permissible_values[e]-t[n].amount_left[e])/t[n].permissible_values[e]*100};return a},getTransactionData:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=[],n=0;case 2:if(!(n<e.length)){t.next=8;break}return t.next=5,O.get("".concat(p["b"],"transaction/trans/find/by/").concat(e[n]._id)).then(function(t){a[n]={y:t.data.amount}}).catch(function(t){t.toString().includes("Network Error")&&v({type:m.a.types.error,title:"Network Error"})});case 5:n++,t.next=2;break;case 8:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()}},x=k,M=(a("2b56"),a("945e"),a("2877")),w=Object(M["a"])(x,n,i,!1,null,"28e11e02",null);e["default"]=w.exports},"7f7f":function(t,e,a){var n=a("86cc").f,i=Function.prototype,r=/^\s*function ([^ (]*)/,s="name";s in i||a("9e1e")&&n(i,s,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"945e":function(t,e,a){"use strict";var n=a("1c4a"),i=a.n(n);i.a},dda7:function(t,e,a){"use strict";function n(t){var e=t.$options.title;if(e)return"function"===typeof e?e.call(t):e}e["a"]={created:function(){var t=n(this);t&&(document.title=t)}}},e440:function(t,e,a){var n,i,r;(function(a,s){i=[],n=s,r="function"===typeof n?n.apply(e,i):n,void 0===r||(t.exports=r)})(0,function(){"use strict";function t(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var e="VueNotifications",a="vue-notifications",n="notifications",i={error:"error",warn:"warn",info:"info",success:"success"},r=1,s={alreadyInstalled:e+": plugin already installed",methodNameConflict:e+": names conflict - "};function o(t){var e=t.version.match(/(\d+)/g);return+e[0]}function c(t){var e=t.type,a=t.message,n=t.title,r="Title: "+n+", Message: "+a+", Type: "+e;e===i.error?console.error(r):e===i.warn?console.warn(r):console.log(r)}function d(t,e){var a={};return Object.keys(e).forEach(function(n){a[n]="cb"===n?e[n].bind(t):"function"===typeof e[n]?e[n].call(t):e[n]}),a}function h(t,e){var a=d(e,t),n=b.pluginOptions[a.type],i=n?b.pluginOptions[a.type]:c;if(i(a,e),t.cb)return t.cb()}function l(t,e){Object.keys(e).forEach(function(a){t[e[a]]=function(t){return t.type=e[a],h(t)}})}function p(t,e,a,n){a.methods||(a.methods={}),a.methods[e]||(a.methods[e]=u(t,e,a,n))}function u(t,e,a,n){return function(i){var r=Object.assign({},b.config,a[b.propertyName][e],i);return h(r,n,t)}}function g(t,e,n){e&&(Object.keys(e).forEach(function(e){return p(t,e,t.$options,n)}),t.$emit(a+"-initiated"))}function m(t,e){if(e){var n=t.$options.methods;Object.keys(e).forEach(function(t){n[t]&&(n[t]=void 0,delete n[t])}),t.$emit(a+"-unlinked")}}function f(e,a){var n,i=o(e)===r?"init":"beforeCreate";return n={},t(n,i,function(){var t=this.$options[b.propertyName];g(this,t,a)}),t(n,"beforeDestroy",function(){var t=this.$options[b.propertyName];m(this,t)}),n}var b={types:i,propertyName:n,config:{type:i.info,timeout:3e3},pluginOptions:{},installed:!1,install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.installed)throw console.error(s.alreadyInstalled);var a=f(t,e);t.mixin(a),this.setPluginOptions(e),l(this,this.types),this.installed=!0},setPluginOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pluginOptions=t}};return"undefined"!==typeof window&&window.Vue&&window.Vue.use(b),b})}}]);
//# sourceMappingURL=chunk-121e9740.10a53bf8.js.map