(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69c830db"],{"4adb":function(e,t,n){"use strict";var a=n("545c"),o=n.n(a);o.a},"4d12":function(e,t,n){"use strict";var a=n("edb2"),o=n.n(a);o.a},"545c":function(e,t,n){},"7f7f":function(e,t,n){var a=n("86cc").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in o||n("9e1e")&&a(o,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},dda7:function(e,t,n){"use strict";function a(e){var t=e.$options.title;if(t)return"function"===typeof t?t.call(e):t}t["a"]={created:function(){var e=a(this);e&&(document.title=e)}}},e8c5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("AppHeader",{attrs:{fixed:""}},[n("SidebarToggler",{staticClass:"d-lg-none",attrs:{display:"md",mobile:""}}),n("b-link",{staticClass:"navbar-brand"},[n("i",{staticClass:"icon-energy font-2xl",staticStyle:{"margin-top":"-6px"}}),e._v("\n       \n      "),n("h6",{staticStyle:{color:"black"}},[e._v(e._s(e.user_name))])]),n("SidebarToggler",{staticClass:"d-md-down-none",attrs:{display:"lg"}}),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",{staticClass:"d-md-down-none"},[n("DefaultHeaderDropdown")],1),n("b-nav-item",{},[n("DefaultHeaderDropdownAccnt")],1)],1),e._v(" \n    \n  ")],1),n("div",{staticClass:"app-body"},[n("AppSidebar",{attrs:{fixed:""}},[n("SidebarHeader"),n("SidebarForm"),n("SidebarNav",{attrs:{navItems:e.navItems}}),n("SidebarFooter"),n("SidebarMinimizer")],1),n("main",{staticClass:"main"},[n("Breadcrumb",{attrs:{list:e.list}}),n("div",{staticClass:"container-fluid"},[n("router-view")],1)],1)],1)],1)},o=[],s=(n("7f7f"),n("bc3a")),i=n.n(s),r=n("e19c"),c=n("a026"),l=n("f1fb"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Aside")])},d=[],p={name:"DefaultAside",mounted:function(){console.log(this)}},m=p,g=n("2877"),f=Object(g["a"])(m,u,d,!1,null,null,null),h=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppHeaderDropdown",{attrs:{right:"","no-caret":""}},[n("template",{slot:"header"},[n("i",{staticClass:"fa fa-language fa-lg "}),n("b-badge",{attrs:{pill:"",variant:"info"}})],1),n("template",{slot:"dropdown"},[n("div",{staticClass:"dropdown-menu-lg"},e._l(e.$ml.list,function(t){return n("b-dropdown-item",{key:t},[n("div",{staticClass:"message"},[n("div",{staticClass:"text-truncate font-weight-bold",domProps:{textContent:e._s(t)},on:{click:function(n){return e.$ml.change(t)}}})])])}),1)])],2)},b=[],w={name:"DefaultHeaderDropdown",components:{AppHeaderDropdown:l["f"]},data:function(){return{}}},_=w,y=Object(g["a"])(_,v,b,!1,null,null,null),C=y.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.tab?n("AppHeaderDropdown",{attrs:{right:"","no-caret":""}},[n("template",{slot:"header"},[n("img",{staticClass:"img-avatar",attrs:{src:"https://www.static-contents.youth4work.com/university/Documents/Colleges/collegeLogo/673.jpg",alt:"No Profile Pic"}})]),e._v("\\\n  "),n("template",{slot:"dropdown"},[n("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"}},[n("strong",{domProps:{textContent:e._s(e.ssnCompany.company_name)},on:{click:function(t){return e.reRoute(e.ssnCompany._id)}}}),e._v("     "),e.isUser?e._e():n("b-badge",{attrs:{variant:"primary"},domProps:{textContent:e._s(e.$ml.get("switch"))},on:{click:e.toggleNavs}})],1),e.isUser?n("div",[n("b-dropdown-item",{on:{click:e.userDetails}},[n("span",{domProps:{textContent:e._s(e.$ml.get("editprofile"))}}),e._v(" - "),n("span",{domProps:{textContent:e._s(e.user.user_name)}})])],1):e._e(),e.isUser&&e.checkPermission?n("div",[n("b-dropdown-item",{on:{click:e.Settings}},[n("i",{staticClass:"fa fa-wrench"}),n("span",{domProps:{textContent:e._s(e.$ml.get("settings"))}})])],1):e._e(),0==e.checkPermission?n("div"):e._e(),0==e.isUser?n("div",[n("b-dropdown-item",{on:{click:e.Settings}},[n("i",{staticClass:"fa fa-wrench"}),n("span",{domProps:{textContent:e._s(e.$ml.get("settings"))}})])],1):e._e(),n("b-dropdown-divider"),n("b-dropdown-item",{on:{click:e.Logout}},[n("i",{staticClass:"fa fa-lock"}),n("span",{domProps:{textContent:e._s(e.$ml.get("logout"))}})])],1)],2):e.tab?e._e():n("AppHeaderDropdown",{attrs:{right:"","no-caret":""}},[n("template",{slot:"header"},[n("img",{staticClass:"img-avatar",attrs:{src:"https://www.static-contents.youth4work.com/university/Documents/Colleges/collegeLogo/673.jpg",alt:"admin@bootstrapmaster.com"}})]),e._v("\\\n  "),n("template",{slot:"dropdown"},[n("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"}},[n("strong",{domProps:{textContent:e._s(e.$ml.get("companylist"))}}),e._v("     "),e.isUser?e._e():n("b-badge",{attrs:{variant:"primary"},domProps:{textContent:e._s(e.$ml.get("switch"))},on:{click:e.toggleNavs}})],1),n("v-for",e._l(e.data,function(t,a){return n("b-dropdown-item",{key:a,on:{click:function(t){return e.setSsn(e.data[a]._id)}}},[n("i",{staticClass:"fa fa-user"}),n("span",{domProps:{textContent:e._s(e.data[a].company_name)}})])}),1),n("b-dropdown-divider"),n("b-dropdown-item",{on:{click:e.addCompany}},[n("i",{staticClass:"fa fa-plus"}),n("span",{domProps:{textContent:e._s(e.$ml.get("addnewcompany"))}})]),n("b-dropdown-divider"),n("b-dropdown-item",{on:{click:e.Logout}},[n("i",{staticClass:"fa fa-lock"}),n("span",{domProps:{textContent:e._s(e.$ml.get("logout"))}})])],1)],2)},k=[],x=(n("96cf"),n("3b8d")),D=(n("4767"),n("789a")),$=i.a.create({withCredentials:!0}),A={name:"DefaultHeaderDropdownAccnt",components:{AppHeaderDropdown:l["f"]},data:function(){return{permissions:null,checkPermission:!1,tab:!0,data:[],ssnCompany:{},user:null,isUser:!1}},mounted:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t,n,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:localStorage["session_key"]&&(t=JSON.parse(localStorage["session_key"]),this.permissions=t,24==t.length?i.a.get("".concat(r["b"])+"company/list",{withCredentials:!0}).then(function(e){o.data=e.data,o.ssnCompany=o.data[0],i.a.get("".concat(r["b"])+"company/".concat(o.ssnCompany._id),{withCredentials:!0}).then(function(e){o.$session.set("company",e.data._id)})}):(n=JSON.parse(localStorage.session_key),this.permissions=n,this.user=n.user,this.isUser=!0,i.a.get("".concat(r["b"])+"company/".concat(this.user.company),{withCredentials:!0}).then(function(e){console.log(e.data),o.data=[e.data],o.ssnCompany=e.data,o.$session.set("company",e.data._id)})),this.checkPerm()),localStorage["student_key"]&&(a=JSON.parse(localStorage["student_key"]),this.user=a,this.isUser=!0);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{checkPerm:function(){for(var e=this.permissions.permission,t=0;t<e.length;t++)"budSet"==e[t].module_name&&(console.log(e[t]),1==e[t].read&&(this.checkPermission=!0))},userDetails:function(){window.location.href="#/settingviews/staff/details/".concat(this.user._id)},Settings:function(){console.log("settings"),this.$router.push("/settings")},Plugin:function(){console.log("plugin"),this.$router.push("/plugin")},toggleNavs:function(){this.tab=!this.tab,console.log("toggle")},addCompany:function(){console.log("add company"),this.$router.push("/add/company")},setSsn:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i.a.get("".concat(r["b"])+"company/".concat(t),{withCredentials:!0}).then(function(e){n.ssnCompany=e.data,n.tab=!n.tab,console.log(n.ssnCompany)});case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),Logout:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(localStorage),localStorage["student_key"]&&(t=JSON.parse(localStorage["student_key"])),localStorage["session_key"]&&(n=JSON.parse(localStorage["session_key"])),t&&$.post("".concat(r["a"],"stud/student/logout")).then(function(e){console.log(e.data),delete localStorage["student_key"],a.$router.push("/login/student")}).catch(function(e){console.log(e)}),n.user?$.post("".concat(r["b"])+"user/subuser/logout").then(function(e){console.log(e),D["a"].logout(),a.$session.destroy(),delete sessionStorage["vue-session-key"],delete localStorage["session_key"],console.log(D["a"].loggedIn),a.$router.push("/login")}).catch(function(e){console.log(e)}):$.get("".concat(r["b"])+"auth/super/logout").then(function(e){console.log(e),D["a"].logout(),a.$session.destroy(),delete sessionStorage["vue-session-key"],delete localStorage["session_key"],console.log(D["a"].loggedIn),a.$router.push("/login")}).catch(function(e){console.log(e)});case 5:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),reRoute:function(e){this.$router.push("/company/".concat(e))}}},P=A,H=(n("4adb"),Object(g["a"])(P,S,k,!1,null,null,null)),I=H.exports,N=n("dda7");function O(){var e=JSON.parse(localStorage["session_key"]);return e.user?e.user.user_name:"ADMIN"}c["default"].mixin(N["a"]);var T={title:function(){return"BOLT - ".concat(this.user_name)},name:"DefaultContainer",components:{AsideToggler:l["b"],AppHeader:l["e"],AppSidebar:l["g"],AppAside:l["a"],TheFooter:l["d"],Breadcrumb:l["c"],DefaultAside:h,DefaultHeaderDropdown:C,DefaultHeaderDropdownAccnt:I,SidebarForm:l["i"],SidebarFooter:l["h"],SidebarToggler:l["m"],SidebarHeader:l["j"],SidebarNav:l["l"],SidebarMinimizer:l["k"]},data:function(){return{pendingCount1:0,pendingCount2:0,user_name:O(),navItems:[{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer",badge:{variant:"primary",text:"NEW"}},{name:"Finance",url:"/finance",icon:"icon-calculator",children:[]},{divider:!0,class:"mt-auto"},{name:"Settings",url:"/settingviews",icon:"icon-settings",children:[]}]}},beforeMount:function(){var e=this;i.a.get("".concat(r["b"],"approvals/preApp/get/count"),{withCredentials:!0}).then(function(t){e.pendingCount1=t.data,i.a.get("".concat(r["b"],"transfer/budtrans/get/count"),{withCredentials:!0}).then(function(t){e.pendingCount2=t.data;var n=JSON.parse(localStorage["session_key"]);if(null!=n.user){e.user_name=n.user.user_name;for(var a=n.additional_permissions,o=0;o<a.length;o++)void 0!=a[o].module_name&&(1!=a[o].read_all&&1!=a[o].read_own||("Staff"==a[o].text&&e.navItems[3].children.push({name:"Staff",url:"/settingviews/staff",icon:"icon-user"}),"Vendor"==a[o].text&&e.navItems[1].children.push({name:"Vendor",url:"/finance/vendor",icon:"icon-star"}),"Department"==a[o].text&&e.navItems[3].children.push({name:"Departments",url:"/settingviews/department/list",icon:"icon-star"}),"Approval"==a[o].text&&e.navItems[1].children.push({name:"Approval Requests",url:"/finance/approval/view/all",icon:"icon-calculator",badge:{variant:"primary",text:e.pendingCount1}}),"Designation"==a[o].text&&e.navItems[3].children.push({name:"Designations",url:"/settingviews/designation/list",icon:"icon-star"}),"Head"==a[o].text&&e.navItems[1].children.push({name:"Heads",url:"/finance/heads/list",icon:"icon-star"},{name:"Budget",icon:"icon-star",url:"/finance/budget",children:[{name:"Total Budget",url:"/finance/budget/total",icon:"icon-star"},{name:"Remaining Budget",url:"/finance/budget/approved",icon:"icon-star"},{name:"CarryOver Budget",url:"/finance/budget/carryover",icon:"icon-star"}]}),"Label"==a[o].text&&e.navItems[3].children.push({name:"Label",url:"/settingviews/label",icon:"icon-calculator"}),"Transcation"==a[o].text&&e.navItems[1].children.push({name:"Transaction",url:"/finance/transaction",icon:"icon-calculator"}),"Budget Transfer"==a[o].text&&e.navItems[1].children.push({name:"Budget Transfer",icon:"icon-star",url:"/finance/budgettrans/list/all",badge:{variant:"primary",text:e.pendingCount2}})))}else e.user_name="ADMIN",e.navItems=[{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer",badge:{variant:"primary",text:"NEW"}},{name:"Finance",url:"/finance",icon:"icon-calculator",children:[{name:"Vendor",url:"/finance/vendor",icon:"icon-user"},{name:"Heads",url:"/finance/heads/list",icon:"icon-star"},{name:"Budget",icon:"icon-star",url:"/finance/budget",children:[{name:"Total Budget",url:"/finance/budget/total",icon:"icon-star"},{name:"Remaining Budget",url:"/finance/budget/approved",icon:"icon-star"},{name:"CarryOver Budget",url:"/finance/budget/carryover",icon:"icon-star"}]},{name:"Budget Transfer",icon:"icon-star",url:"/finance/budgettrans/list/all",badge:{variant:"primary",text:e.pendingCount2}},{name:"Transaction",url:"/finance/transaction",icon:"icon-calculator"},{name:"Approval Requests",url:"/finance/approval/view/all",icon:"icon-calculator",badge:{variant:"primary",text:e.pendingCount1}}]},{divider:!0,class:"mt-auto"},{name:"Settings",url:"/settingviews",icon:"icon-settings",children:[{name:"Staff",url:"/settingviews/staff",icon:"icon-user"},{name:"Templates",url:"/settingviews/templates",icon:"icon-envelope",children:[{name:"Email Templates",url:"/settingviews/templates/email",icon:"icon-envelope"},{name:"SMS Templates",url:"/settingviews/templates/sms",icon:"icon-envelope"}]},{name:"Communication Log",url:"/settingviews/plugin/log",icon:"icon-settings"},{name:"Departments",url:"/settingviews/department/list",icon:"icon-star"},{name:"Designations",url:"/settingviews/designation/list",icon:"icon-star"},{name:"Label",url:"/settingviews/label",icon:"icon-calculator"}]}]})})},computed:{name:function(){return this.$route.name},list:function(){return this.$route.matched.filter(function(e){return e.name||e.meta.label})}}},B=T,R=(n("4d12"),Object(g["a"])(B,a,o,!1,null,null,null));t["default"]=R.exports},edb2:function(e,t,n){}}]);
//# sourceMappingURL=chunk-69c830db.867a6079.js.map